<div class="card">
  <div class="card-head">
      <H2>Interes Compuesto</H2>
  </div>
</div>

<div class="card ">
  <div class="form-container container">
    <div class="row-container">
        <div>      <form [formGroup]="formGroup" class="form col">
            <button type="button" class="google-button " (click)="agregarPeriodo()" >
                <i class="fa-solid fa-plus" style="color: #ffffff;"></i>Nuevo periodo</button>
            <div  formArrayName="periodos" >
              @for(  periodo of periodos.controls; track periodo; let i=$index){
                  
                  <ng-container>
                      <div class="row mt-3" [formGroupName]="i">
                          <div class="form-group w-100 row">
                              <div class="col-7 ">
                                  <div class="google-combo">
                                      <select class="combo-select" formControlName="periodo" (change)="actualizarIntervalosDisponibles()">
                                          <option value="" disabled selected>Seleccione periodo</option>
                                          @for( intervalo of intervalosTiempo; track intervalo; let j=$index){
                                              <option [value]="intervalo.value" [disabled]="intervalo.selected">
                                                  {{ intervalo.label }}
                                              </option>
                                          }
  
                                      </select>
                                      @if(campoTieneErrorArray('periodo', i)){
  
                                          <label class="form-label error"><i
                                                  class="fa-solid fa-circle-exclamation" style="color: #ff0000;"></i></label>
                                      }
                                  </div>
                              </div>
                              <div class="col-2 w-100">
                                  <div class="form-group row">
                                      <input type="number" class="form-input" placeholder=" " formControlName="valor">
                                      <label class="form-label">Valor</label>
                                      @if(campoTieneErrorArray('valor', i) ){
  
                                          <label class="form-label error"><i
                                                  class="fa-solid fa-circle-exclamation" style="color: #ff0000;"></i></label>
                                      }
                                  </div>
      
                              </div>
                              <button type="button" class="eliminar-button col-2 " (click)="eliminarPeriodo(i)">
                                  <i class="fa-solid fa-trash"></i>
                              </button>
                          </div>
                      </div>
                  </ng-container>
              }
            </div>
  
            <div class="form-group row mt-5">
                <input type="number" class="form-input" placeholder=" " formControlName="monto">
                <label class="form-label">Monto Compuesto</label>
              @if(campoTieneError('monto')){
                  <label class="form-label error"><i
                      class="fa-solid fa-circle-exclamation" style="color: #ff0000;"></i></label>
              }
  
            </div>
            <div class="form-group row mt-5">
                <input type="number" class="form-input" placeholder=" " formControlName="capital">
                <label class="form-label">Capital</label>
                @if(campoTieneError('capital') ){
  
                    <label class="form-label error"><i
                            class="fa-solid fa-circle-exclamation" style="color: #ff0000;"></i></label>
                }
            </div>
  
            <div class="form-group row mt-5">
              
                <input type="number" class="form-input" placeholder=" " formControlName="tasaInteres">
                <label class="form-label">Tasa de interes Compuesto</label>
                @if (campoTieneError('tasaInteres')) {
  
                    <label class="form-label error"><i
                            class="fa-solid fa-circle-exclamation" style="color: #ff0000;"></i></label>
                }
            </div>
            <button type="button" class="google-button " (click)="calcularInteres()">Calcular</button>
        </form>
        @if(interesTotalCalculado !== '' ){
          <div class="resultado-card">
              <div class="card">
                  <div class="card-body">
                      <h3 class="card-title">Resultado</h3>
                      <p class="card-text">
                          {{ interesTotalCalculado }}
                      </p>
                  </div>
              </div>
          </div>
        }</div>
    </div>
    
</div>
<div class="imagen">
    <img src="../../../assets/formulas/interes compuesto.jpg" alt="">
</div>
</div>